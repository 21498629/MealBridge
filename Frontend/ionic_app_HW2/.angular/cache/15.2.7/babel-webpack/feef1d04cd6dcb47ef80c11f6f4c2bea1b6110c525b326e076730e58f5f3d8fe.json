{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/DataService/data-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ionic/angular\";\nfunction Tab3Page_ng_template_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Your cart is empty.\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class Tab3Page {\n  constructor(DS, router) {\n    this.DS = DS;\n    this.router = router;\n    this.DelAddress = \"\";\n    this.EAddress = false;\n    // TPrice:number=0;\n    // TDelFee:number=0;\n    this.CartItems = [];\n    this.CartTotal = 0;\n  }\n  ngOnInit() {\n    this.CartItemsGET();\n  }\n  PaymentMADE() {\n    alert('The payment was made successfully');\n    this.router.navigate(['tabs/tab4']);\n  }\n  AddressEDIT() {\n    this.EAddress = true;\n  }\n  AddressSAVE() {\n    localStorage.setItem('DelAddress', this.DelAddress);\n    this.EAddress = false;\n  }\n  CartItemsGET() {\n    let theCart = localStorage.getItem(\"Cart\");\n    if (theCart) {\n      this.CartItems = JSON.parse(theCart);\n    }\n    this.CartTotal = this.DS.CartSAVE(this.CartItems);\n  }\n  CartDELETE(restaurant) {\n    let theCart = localStorage.getItem('Cart');\n    let CartItems = [];\n    if (theCart) {\n      CartItems = JSON.parse(theCart);\n    }\n    let index = CartItems.findIndex(item => item.ID === restaurant.RID.toString());\n    if (index !== -1) {\n      CartItems.splice(index, 1);\n      localStorage.setItem('Cart', JSON.stringify(CartItems));\n      this.CartItemsGET();\n    }\n  }\n}\nTab3Page.ɵfac = function Tab3Page_Factory(t) {\n  return new (t || Tab3Page)(i0.ɵɵdirectiveInject(i1.DataServiceService), i0.ɵɵdirectiveInject(i2.Router));\n};\nTab3Page.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: Tab3Page,\n  selectors: [[\"app-tab3\"]],\n  decls: 54,\n  vars: 6,\n  consts: [[3, \"translucent\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [\"size\", \"2\"], [3, \"src\"], [\"aria-hidden\", \"true\", \"name\", \"list-outline\", \"color\", \"medium\", \"size\", \"large\"], [\"size\", \"10\"], [\"placeholder\", \"Any Instructions? We will try our best\"], [\"emptyCart\", \"\"], [\"color\", \"primary\"], [\"slot\", \"end\"], [\"slot\", \"end\", 3, \"click\"], [1, \"ion-padding\"], [\"expand\", \"full\"], [\"name\", \"home-outline\", \"size\", \"large\"], [2, \"margin-left\", \"10%\"], [1, \"change-button\", 2, \"margin-left\", \"80%\", 3, \"click\"], [\"slot\", \"end\", 2, \"margin-right\", \"70%\"], [1, \"blue-button\", 3, \"click\"]],\n  template: function Tab3Page_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Cart\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"ion-content\", 1)(5, \"ion-header\", 2)(6, \"ion-toolbar\")(7, \"ion-title\", 3);\n      i0.ɵɵtext(8, \"Cart\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"ion-grid\")(10, \"ion-row\")(11, \"ion-col\", 4);\n      i0.ɵɵelement(12, \"img\", 5);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"ion-grid\")(14, \"ion-row\")(15, \"ion-col\", 4);\n      i0.ɵɵelement(16, \"ion-icon\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"ion-col\", 7);\n      i0.ɵɵelement(18, \"ion-input\", 8);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(19, Tab3Page_ng_template_19_Template, 2, 0, \"ng-template\", null, 9, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementStart(21, \"ion-list\")(22, \"ion-list-header\")(23, \"ion-label\", 10);\n      i0.ɵɵtext(24, \"Bill Details\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"ion-item\")(26, \"ion-label\");\n      i0.ɵɵtext(27, \"Delivery fee\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"ion-label\", 11);\n      i0.ɵɵtext(29);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"ion-item\")(31, \"ion-label\");\n      i0.ɵɵtext(32, \"To Pay\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"ion-label\", 11);\n      i0.ɵɵtext(34);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(35, \"ion-item\")(36, \"ion-button\", 12);\n      i0.ɵɵlistener(\"click\", function Tab3Page_Template_ion_button_click_36_listener() {\n        return ctx.CartDELETE;\n      });\n      i0.ɵɵtext(37, \"Delete\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(38, \"ion-content\", 13);\n      i0.ɵɵelementStart(39, \"ion-list\", 14);\n      i0.ɵɵelement(40, \"ion-icon\", 15);\n      i0.ɵɵelementStart(41, \"ion-card-title\", 16);\n      i0.ɵɵtext(42, \"Delivery to Office\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"ion-card-subtitle\", 16);\n      i0.ɵɵtext(44, \"University of Pretoria,Informatorium\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"ion-button\", 17);\n      i0.ɵɵlistener(\"click\", function Tab3Page_Template_ion_button_click_45_listener() {\n        return ctx.AddressEDIT();\n      });\n      i0.ɵɵtext(46, \"Change\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"ion-toolbar\")(48, \"ion-item\")(49, \"ion-label\", 18);\n      i0.ɵɵtext(50);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(51, \"ion-buttons\", 11)(52, \"ion-button\", 19);\n      i0.ɵɵlistener(\"click\", function Tab3Page_Template_ion_button_click_52_listener() {\n        return ctx.PaymentMADE();\n      });\n      i0.ɵɵtext(53, \"Make Payment\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(8);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.CartItems[0].RImage, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(17);\n      i0.ɵɵtextInterpolate1(\"R \", ctx.CartItems[0].RDelFee, \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\"R \", ctx.CartItems[0].RPrice + ctx.CartItems[0].RDelFee, \"\");\n      i0.ɵɵadvance(16);\n      i0.ɵɵtextInterpolate1(\"R\", ctx.CartTotal, \"\");\n    }\n  },\n  dependencies: [i3.IonButton, i3.IonButtons, i3.IonCardSubtitle, i3.IonCardTitle, i3.IonCol, i3.IonContent, i3.IonGrid, i3.IonHeader, i3.IonIcon, i3.IonInput, i3.IonItem, i3.IonLabel, i3.IonList, i3.IonListHeader, i3.IonRow, i3.IonTitle, i3.IonToolbar, i3.TextValueAccessor],\n  styles: [\".blue-button[_ngcontent-%COMP%] {\\n  background-color: #3880ff;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGFiMy90YWIzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHlCQUFBO0VBQ0EsWUFBQTtBQUNKIiwic291cmNlc0NvbnRlbnQiOlsiLmJsdWUtYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzODgwZmY7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgfVxyXG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","Tab3Page","constructor","DS","router","ngOnInit","CartItemsGET","PaymentMADE","alert","navigate","AddressEDIT","EAddress","AddressSAVE","localStorage","setItem","DelAddress","theCart","getItem","CartItems","JSON","parse","CartTotal","CartSAVE","CartDELETE","restaurant","index","findIndex","item","ID","RID","toString","splice","stringify","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\MYProjects\\Hackathon\\Frontend\\ionic_app_HW2\\src\\app\\tab3\\tab3.page.html","C:\\MYProjects\\Hackathon\\Frontend\\ionic_app_HW2\\src\\app\\tab3\\tab3.page.ts"],"sourcesContent":["<ion-header [translucent]=\"true\">\r\n  <ion-toolbar>\r\n    <ion-title>Cart</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content [fullscreen]=\"true\">\r\n  <ion-header collapse=\"condense\">\r\n    <ion-toolbar>\r\n      <ion-title size=\"large\">Cart</ion-title>\r\n    </ion-toolbar>\r\n  </ion-header>\r\n  \r\n  <ion-grid>\r\n    <ion-row>\r\n      <ion-col size=\"2\">\r\n        <img src=\"{{ CartItems[0].RImage }}\" />\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n  \r\n  <ion-grid>\r\n    <ion-row>\r\n      <ion-col size=\"2\">\r\n        <ion-icon aria-hidden=\"true\" name=\"list-outline\" color=\"medium\" size=\"large\"></ion-icon>\r\n      </ion-col>\r\n      <ion-col size=\"10\">\r\n        <ion-input placeholder=\"Any Instructions? We will try our best\"></ion-input>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n\r\n  <ng-template #emptyCart>\r\n    <p>Your cart is empty.</p>\r\n  </ng-template>\r\n\r\n  <ion-list>\r\n    <ion-list-header>\r\n      <ion-label color=\"primary\">Bill Details</ion-label>\r\n    </ion-list-header>\r\n  \r\n    <ion-item>\r\n      <ion-label>Delivery fee</ion-label>\r\n      <ion-label slot=\"end\">R {{ CartItems[0].RDelFee }}</ion-label>\r\n    </ion-item>\r\n    <ion-item>\r\n      <ion-label>To Pay</ion-label>\r\n      <ion-label slot=\"end\">R {{ CartItems[0].RPrice + CartItems[0].RDelFee }}</ion-label>\r\n    </ion-item>\r\n    <ion-item>\r\n      <ion-button slot=\"end\" (click)=\"CartDELETE\">Delete</ion-button>\r\n    </ion-item>\r\n  </ion-list>\r\n  <ion-content class=\"ion-padding\">\r\n  </ion-content>\r\n  <ion-list expand=\"full\">\r\n      <ion-icon name=\"home-outline\" size=\"large\"></ion-icon>\r\n      <ion-card-title style=\"margin-left: 10%;\" >Delivery to Office</ion-card-title>\r\n      <ion-card-subtitle style=\"margin-left:10%;\">University of Pretoria,Informatorium</ion-card-subtitle>\r\n      <ion-button  class=change-button style=\"margin-left: 80%;\"  (click)=\"AddressEDIT()\">Change</ion-button>\r\n    <ion-toolbar>\r\n      <ion-item>\r\n        <ion-label slot=\"end\" style=\"margin-right: 70%;\">R{{ CartTotal }}</ion-label>\r\n      </ion-item>\r\n      <ion-buttons slot=\"end\">\r\n        <ion-button class=\"blue-button\" (click)=\"PaymentMADE()\">Make Payment</ion-button>\r\n      </ion-buttons>\r\n    </ion-toolbar>\r\n  </ion-list>\r\n</ion-content>\r\n  \r\n\r\n\r\n\r\n\r\n","import { Component,OnInit } from '@angular/core';\r\nimport { DataServiceService,Restaurants } from '../services/DataService/data-service.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-tab3',\r\n  templateUrl: 'tab3.page.html',\r\n  styleUrls: ['tab3.page.scss']\r\n})\r\nexport class Tab3Page implements OnInit{\r\n   DelAddress:string=\"\";\r\n    public EAddress:boolean=false;\r\n  // TPrice:number=0;\r\n  // TDelFee:number=0;\r\n CartItems:Restaurants[]=[];\r\n CartTotal:number=0;\r\n\r\n  constructor(private DS:DataServiceService,private router:Router) \r\n  {}\r\n  ngOnInit()\r\n  {\r\n    this.CartItemsGET();\r\n    \r\n  }\r\n\r\n  PaymentMADE()\r\n  {\r\n    alert('The payment was made successfully')\r\n    this.router.navigate(['tabs/tab4']);\r\n  }\r\n   \r\n  public AddressEDIT():void\r\n  {\r\n    this.EAddress=true;\r\n    \r\n  }\r\n  AddressSAVE()\r\n  {\r\n    localStorage.setItem('DelAddress', this.DelAddress);\r\n    this.EAddress=false;\r\n  }\r\nCartItemsGET()\r\n{\r\n  let theCart = localStorage.getItem(\"Cart\");\r\n  if (theCart) {\r\n    this.CartItems = JSON.parse(theCart);\r\n  }\r\n\r\n  this.CartTotal = this.DS.CartSAVE(this.CartItems);\r\n}\r\n\r\nCartDELETE(restaurant: Restaurants) {\r\n  let theCart = localStorage.getItem('Cart');\r\n  let CartItems: any[] = [];\r\n\r\n  if (theCart) {\r\n    CartItems = JSON.parse(theCart);\r\n  }\r\n\r\n  let index = CartItems.findIndex(item => item.ID === restaurant.RID.toString());\r\n\r\n  if (index !== -1) {\r\n    CartItems.splice(index, 1);\r\n    localStorage.setItem('Cart', JSON.stringify(CartItems));\r\n    this.CartItemsGET();\r\n  }\r\n}\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}