{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class DataServiceService {\n  constructor() {\n    const FoodInfo = localStorage.getItem(\"Restaurant\");\n    if (FoodInfo) {\n      this.Restaurant = JSON.parse(FoodInfo);\n    } else {\n      this.Restaurant = [{\n        RID: 1,\n        RName: 'Manhatten Hotel',\n        RImage: 'assets/images/manhatten hotel.jpg',\n        RArea: 'Pretoria',\n        RDistance: 0.7\n      }, {\n        RID: 2,\n        RName: 'Garden Courts',\n        RImage: 'assets/images/garden court.jpg',\n        RArea: 'Johanesburg',\n        RDistance: 5.1\n      }, {\n        RID: 3,\n        RName: 'Holiday Inn',\n        RImage: 'assets/images/holiday inn.jpg',\n        RArea: 'Johanesburg',\n        RDistance: 9.2\n      }, {\n        RID: 4,\n        RName: 'Protea Hotel',\n        RImage: 'assets/images/protea hotel.jpg',\n        RArea: 'Pretoria',\n        RDistance: 0.4\n      }, {\n        RID: 5,\n        RName: 'MINT Hotel',\n        RImage: 'assets/images/MINT hotel.jpeg',\n        RArea: 'Johanesburg',\n        RDistance: 11.4\n      }, {\n        RID: 6,\n        RName: 'The Regency',\n        RImage: 'assets/images/the regency.jpg',\n        RArea: 'American',\n        RDistance: 1.3\n      }\n      // {\n      //   RID:5,RName:'SALSA',RImage:'assets/images/tacos.jpg',\n      //   RType:'Tacos', RRating:3.7, RDistance: 2.5, RPrice:70, RDelFee:40\n      // }\n      ];\n\n      this.RestaurantSAVE();\n    }\n  }\n  //this gets the restaurants \n  RestaurantGET() {\n    return this.Restaurant;\n  }\n  RestaurantGETbyID(ID) {\n    return this.Restaurant.find(food => food.RID === ID);\n  }\n  // RestaurantbyID(ID:number):Observable<any>\n  // {\n  //   let FoodInfo:Restaurants[]=[];\n  //   if(localStorage.getItem('FoodInfo'))\n  //   {\n  //     FoodInfo =JSON.parse(localStorage.getItem('FoodInfo')!)\n  //   }\n  //   let ResFood:any=FoodInfo.find(ResFood => ResFood.RID ===ID)\n  //   return (ResFood)\n  // }\n  RestaurantSAVE() {\n    localStorage.setItem('Resturants', JSON.stringify(this.Restaurant));\n  }\n  // RestaurantSEARCH(rName:string, rType:string,rRating:number,rDistance:number,rPrice:number):Restaurants[]{\n  //   let findRest = this.Restaurant;\n  //   if(rName)\n  //   {\n  //     findRest=findRest.filter(a=>a.RName.toLowerCase().includes(rName.toLowerCase()));\n  //   }\n  //   if(rType)\n  //   {\n  //     findRest=findRest.filter(a=>a.RType.toLowerCase().includes(rType.toLowerCase()));\n  //   }\n  //   if(rDistance)\n  //   {\n  //     findRest=findRest.filter(a=>a.RDistance<=rDistance);\n  //   }\n  //   if(rType)\n  //   {\n  //     findRest=findRest.filter(a=>a.RType.toLowerCase().includes(rType.toLowerCase()));\n  //   }\n  //   if(rPrice)\n  //   {\n  //     findRest=findRest.filter(a=>a.RDistance<=rPrice);\n  //   }\n  //   return findRest;\n  // }\n  //save the updated cart items array into the local storage\n  // CartADD(Restaurant: Restaurants) {\n  //   let theCart = localStorage.getItem('Cart');\n  //   let CartItems: any[] = [];\n  //   if (theCart) {\n  //     CartItems = JSON.parse(theCart);\n  //   }\n  //   CartItems.push({ ...Restaurant, ID: Restaurant.RID.toString() });\n  //   localStorage.setItem('Cart', JSON.stringify(CartItems));\n  // }\n  CartADD(Restaurant) {\n    let theCart = localStorage.getItem('Cart');\n    let CartItems = [];\n    if (theCart) {\n      CartItems = JSON.parse(theCart);\n    }\n    if (!Array.isArray(CartItems)) {\n      CartItems = [];\n    }\n    CartItems.push({\n      ...Restaurant,\n      ID: Restaurant.RID.toString()\n    });\n    localStorage.setItem('Cart', JSON.stringify(CartItems));\n  }\n  CartSAVE(Cart) {\n    let CartTotal = [];\n    let Total = 0;\n    for (let x = 0; x < Cart.length; x++) {\n      // let FoodPrice = Cart[x].RPrice + Cart[x].RDelFee;\n      // Total += FoodPrice;\n      // CartTotal.push({ ...Cart[x], FoodPrice });\n    }\n    return Total;\n  }\n}\nDataServiceService.ɵfac = function DataServiceService_Factory(t) {\n  return new (t || DataServiceService)();\n};\nDataServiceService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: DataServiceService,\n  factory: DataServiceService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"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","names":["DataServiceService","constructor","FoodInfo","localStorage","getItem","Restaurant","JSON","parse","RID","RName","RImage","RArea","RDistance","RestaurantSAVE","RestaurantGET","RestaurantGETbyID","ID","find","food","setItem","stringify","CartADD","theCart","CartItems","Array","isArray","push","toString","CartSAVE","Cart","CartTotal","Total","x","length","factory","providedIn"],"sourceRoot":"","sources":["C:\\MYProjects\\Hackathon\\Frontend\\ionic_app_HW2\\src\\app\\services\\DataService\\data-service.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport type Restaurants={\r\n  RID:number;\r\n  RImage:string;\r\n  RName:string;\r\n  RDistance:number;\r\n  RArea:string;\r\n  // RQuantity:number;\r\n  \r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DataServiceService {\r\n private Restaurant: Restaurants[];\r\n  constructor() { \r\n    const FoodInfo= localStorage.getItem(\"Restaurant\");\r\n\r\n    if(FoodInfo)\r\n    {\r\n      this.Restaurant = JSON.parse(FoodInfo);\r\n    }\r\n    else\r\n    {\r\n      this.Restaurant =[\r\n        {\r\n          RID:1,RName:'Manhatten Hotel',RImage:'assets/images/manhatten hotel.jpg',\r\n          RArea:'Pretoria', RDistance: 0.7\r\n        },\r\n        {\r\n          RID:2,RName:'Garden Courts',RImage:'assets/images/garden court.jpg',\r\n          RArea:'Johanesburg', RDistance: 5.1\r\n        },\r\n        {\r\n          RID:3,RName:'Holiday Inn',RImage:'assets/images/holiday inn.jpg',\r\n          RArea:'Johanesburg', RDistance: 9.2\r\n        }, \r\n        {\r\n          RID:4,RName:'Protea Hotel',RImage:'assets/images/protea hotel.jpg',\r\n          RArea:'Pretoria', RDistance: 0.4\r\n        },\r\n        {\r\n          RID:5,RName:'MINT Hotel',RImage:'assets/images/MINT hotel.jpeg',\r\n          RArea:'Johanesburg', RDistance: 11.4\r\n        },\r\n        {\r\n          RID:6,RName:'The Regency',RImage:'assets/images/the regency.jpg',\r\n          RArea:'American', RDistance: 1.3\r\n        }\r\n        // {\r\n        //   RID:5,RName:'SALSA',RImage:'assets/images/tacos.jpg',\r\n        //   RType:'Tacos', RRating:3.7, RDistance: 2.5, RPrice:70, RDelFee:40\r\n        // }\r\n      ];\r\n      this.RestaurantSAVE();\r\n    }\r\n  }\r\n  \r\n//this gets the restaurants \r\n\r\n  RestaurantGET():Restaurants[]\r\n  {\r\n    return this.Restaurant;\r\n  }\r\n  RestaurantGETbyID(ID:number):Restaurants|undefined {\r\n    return this.Restaurant.find((food:Restaurants)=> food.RID === ID);\r\n}\r\n\r\n  // RestaurantbyID(ID:number):Observable<any>\r\n  // {\r\n  //   let FoodInfo:Restaurants[]=[];\r\n  //   if(localStorage.getItem('FoodInfo'))\r\n  //   {\r\n  //     FoodInfo =JSON.parse(localStorage.getItem('FoodInfo')!)\r\n  //   }\r\n  //   let ResFood:any=FoodInfo.find(ResFood => ResFood.RID ===ID)\r\n  //   return (ResFood)\r\n  // }\r\n\r\nRestaurantSAVE()\r\n{\r\n  localStorage.setItem('Resturants', JSON.stringify(this.Restaurant));\r\n}\r\n\r\n// RestaurantSEARCH(rName:string, rType:string,rRating:number,rDistance:number,rPrice:number):Restaurants[]{\r\n//   let findRest = this.Restaurant;\r\n//   if(rName)\r\n//   {\r\n//     findRest=findRest.filter(a=>a.RName.toLowerCase().includes(rName.toLowerCase()));\r\n//   }\r\n//   if(rType)\r\n//   {\r\n//     findRest=findRest.filter(a=>a.RType.toLowerCase().includes(rType.toLowerCase()));\r\n//   }\r\n//   if(rDistance)\r\n//   {\r\n//     findRest=findRest.filter(a=>a.RDistance<=rDistance);\r\n//   }\r\n//   if(rType)\r\n//   {\r\n//     findRest=findRest.filter(a=>a.RType.toLowerCase().includes(rType.toLowerCase()));\r\n//   }\r\n//   if(rPrice)\r\n//   {\r\n//     findRest=findRest.filter(a=>a.RDistance<=rPrice);\r\n//   }\r\n//   return findRest;\r\n\r\n// }\r\n\r\n//save the updated cart items array into the local storage\r\n// CartADD(Restaurant: Restaurants) {\r\n//   let theCart = localStorage.getItem('Cart');\r\n//   let CartItems: any[] = [];\r\n\r\n//   if (theCart) {\r\n//     CartItems = JSON.parse(theCart);\r\n//   }\r\n\r\n//   CartItems.push({ ...Restaurant, ID: Restaurant.RID.toString() });\r\n//   localStorage.setItem('Cart', JSON.stringify(CartItems));\r\n// }\r\n\r\nCartADD(Restaurant: Restaurants) {\r\n  let theCart = localStorage.getItem('Cart');\r\n  let CartItems: any[] = [];\r\n\r\n  if (theCart) {\r\n    CartItems = JSON.parse(theCart);\r\n  }\r\n\r\n  if (!Array.isArray(CartItems)) {\r\n    CartItems = [];\r\n  }\r\n\r\n  CartItems.push({ ...Restaurant, ID: Restaurant.RID.toString() });\r\n  localStorage.setItem('Cart', JSON.stringify(CartItems));\r\n}\r\n\r\nCartSAVE(Cart: Restaurants[]): number {\r\n  let CartTotal = [];\r\n  let Total = 0;\r\n\r\n  for (let x = 0; x < Cart.length; x++) {\r\n    // let FoodPrice = Cart[x].RPrice + Cart[x].RDelFee;\r\n    // Total += FoodPrice;\r\n    // CartTotal.push({ ...Cart[x], FoodPrice });\r\n  }\r\n  \r\n  return Total;\r\n}\r\n\r\n\r\n//  CartDELETE(rID:number):void\r\n//  {\r\n//   let theCart=localStorage.getItem('Cart');\r\n//   if(theCart)\r\n//   {\r\n//     if (theCart) {\r\n//       const itemcart = JSON.parse(theCart);\r\n//       const iditem = itemcart.findIndex((id: number) => id === rID);\r\n//       if (iditem !== -1) {\r\n//         itemcart.splice(iditem, 1);\r\n//         localStorage.setItem('cart', JSON.stringify(itemcart));\r\n//       }\r\n//   }\r\n//  }\r\n\r\n\r\n// }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}