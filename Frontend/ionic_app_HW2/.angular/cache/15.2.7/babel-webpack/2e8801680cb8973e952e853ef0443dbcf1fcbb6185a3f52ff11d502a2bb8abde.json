{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet Tab3Page = class Tab3Page {\n  constructor(DS, router) {\n    this.DS = DS;\n    this.router = router;\n    this.DelAddress = \"\";\n    this.EAddress = false;\n    // TPrice:number=0;\n    // TDelFee:number=0;\n    this.CartItems = [];\n    this.CartTotal = 0;\n  }\n  ngOnInit() {\n    this.CartItemsGET();\n  }\n  PaymentMADE() {\n    alert('The payment was made successfully');\n    this.router.navigate(['tabs/tab4']);\n  }\n  AddressEDIT() {\n    this.EAddress = true;\n  }\n  AddressSAVE() {\n    localStorage.setItem('DelAddress', this.DelAddress);\n    this.EAddress = false;\n  }\n  CartItemsGET() {\n    let theCart = localStorage.getItem(\"Cart\");\n    if (theCart) {\n      this.CartItems = JSON.parse(theCart);\n    }\n    this.CartTotal = this.DS.CartSAVE(this.CartItems);\n  }\n  CartDELETE(restaurant) {\n    let theCart = localStorage.getItem('Cart');\n    let CartItems = [];\n    if (theCart) {\n      CartItems = JSON.parse(theCart);\n    }\n    let index = CartItems.findIndex(item => item.ID === restaurant.RID.toString());\n    if (index !== -1) {\n      CartItems.splice(index, 1);\n      localStorage.setItem('Cart', JSON.stringify(CartItems));\n      this.CartItemsGET();\n    }\n  }\n};\nTab3Page = __decorate([Component({\n  selector: 'app-tab3',\n  templateUrl: 'tab3.page.html',\n  styleUrls: ['tab3.page.scss']\n})], Tab3Page);\nexport { Tab3Page };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAe,eAAe;AASzC,IAAMC,QAAQ,GAAd,MAAMA,QAAQ;EAQnBC,YAAoBC,EAAqB,EAASC,MAAa;IAA3C,OAAE,GAAFD,EAAE;IAA4B,WAAM,GAANC,MAAM;IAPvD,eAAU,GAAQ,EAAE;IACZ,aAAQ,GAAS,KAAK;IAC/B;IACA;IACD,cAAS,GAAe,EAAE;IAC1B,cAAS,GAAQ,CAAC;EAGhB;EACDC,QAAQ;IAEN,IAAI,CAACC,YAAY,EAAE;EAErB;EAEAC,WAAW;IAETC,KAAK,CAAC,mCAAmC,CAAC;IAC1C,IAAI,CAACJ,MAAM,CAACK,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;EACrC;EAEOC,WAAW;IAEhB,IAAI,CAACC,QAAQ,GAAC,IAAI;EAEpB;EACAC,WAAW;IAETC,YAAY,CAACC,OAAO,CAAC,YAAY,EAAE,IAAI,CAACC,UAAU,CAAC;IACnD,IAAI,CAACJ,QAAQ,GAAC,KAAK;EACrB;EACFL,YAAY;IAEV,IAAIU,OAAO,GAAGH,YAAY,CAACI,OAAO,CAAC,MAAM,CAAC;IAC1C,IAAID,OAAO,EAAE;MACX,IAAI,CAACE,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACJ,OAAO,CAAC;;IAGtC,IAAI,CAACK,SAAS,GAAG,IAAI,CAAClB,EAAE,CAACmB,QAAQ,CAAC,IAAI,CAACJ,SAAS,CAAC;EACnD;EAEAK,UAAU,CAACC,UAAuB;IAChC,IAAIR,OAAO,GAAGH,YAAY,CAACI,OAAO,CAAC,MAAM,CAAC;IAC1C,IAAIC,SAAS,GAAU,EAAE;IAEzB,IAAIF,OAAO,EAAE;MACXE,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACJ,OAAO,CAAC;;IAGjC,IAAIS,KAAK,GAAGP,SAAS,CAACQ,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKJ,UAAU,CAACK,GAAG,CAACC,QAAQ,EAAE,CAAC;IAE9E,IAAIL,KAAK,KAAK,CAAC,CAAC,EAAE;MAChBP,SAAS,CAACa,MAAM,CAACN,KAAK,EAAE,CAAC,CAAC;MAC1BZ,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEK,IAAI,CAACa,SAAS,CAACd,SAAS,CAAC,CAAC;MACvD,IAAI,CAACZ,YAAY,EAAE;;EAEvB;CAEC;AA3DYL,QAAQ,eALpBD,SAAS,CAAC;EACTiC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,gBAAgB;EAC7BC,SAAS,EAAE,CAAC,gBAAgB;CAC7B,CAAC,GACWlC,QAAQ,CA2DpB;SA3DYA,QAAQ","names":["Component","Tab3Page","constructor","DS","router","ngOnInit","CartItemsGET","PaymentMADE","alert","navigate","AddressEDIT","EAddress","AddressSAVE","localStorage","setItem","DelAddress","theCart","getItem","CartItems","JSON","parse","CartTotal","CartSAVE","CartDELETE","restaurant","index","findIndex","item","ID","RID","toString","splice","stringify","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\MYProjects\\Hackathon\\Frontend\\ionic_app_HW2\\src\\app\\tab3\\tab3.page.ts"],"sourcesContent":["import { Component,OnInit } from '@angular/core';\r\nimport { DataServiceService,Restaurants } from '../services/DataService/data-service.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-tab3',\r\n  templateUrl: 'tab3.page.html',\r\n  styleUrls: ['tab3.page.scss']\r\n})\r\nexport class Tab3Page implements OnInit{\r\n   DelAddress:string=\"\";\r\n    public EAddress:boolean=false;\r\n  // TPrice:number=0;\r\n  // TDelFee:number=0;\r\n CartItems:Restaurants[]=[];\r\n CartTotal:number=0;\r\n\r\n  constructor(private DS:DataServiceService,private router:Router) \r\n  {}\r\n  ngOnInit()\r\n  {\r\n    this.CartItemsGET();\r\n    \r\n  }\r\n\r\n  PaymentMADE()\r\n  {\r\n    alert('The payment was made successfully')\r\n    this.router.navigate(['tabs/tab4']);\r\n  }\r\n   \r\n  public AddressEDIT():void\r\n  {\r\n    this.EAddress=true;\r\n    \r\n  }\r\n  AddressSAVE()\r\n  {\r\n    localStorage.setItem('DelAddress', this.DelAddress);\r\n    this.EAddress=false;\r\n  }\r\nCartItemsGET()\r\n{\r\n  let theCart = localStorage.getItem(\"Cart\");\r\n  if (theCart) {\r\n    this.CartItems = JSON.parse(theCart);\r\n  }\r\n\r\n  this.CartTotal = this.DS.CartSAVE(this.CartItems);\r\n}\r\n\r\nCartDELETE(restaurant: Restaurants) {\r\n  let theCart = localStorage.getItem('Cart');\r\n  let CartItems: any[] = [];\r\n\r\n  if (theCart) {\r\n    CartItems = JSON.parse(theCart);\r\n  }\r\n\r\n  let index = CartItems.findIndex(item => item.ID === restaurant.RID.toString());\r\n\r\n  if (index !== -1) {\r\n    CartItems.splice(index, 1);\r\n    localStorage.setItem('Cart', JSON.stringify(CartItems));\r\n    this.CartItemsGET();\r\n  }\r\n}\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}